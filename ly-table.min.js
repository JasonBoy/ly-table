/**
 * @license MIT
 * Simple Angular Table Directive with Bootstrap table style
 * https://github.com/JasonBoy/ly-table
 */
!function(t,n){"use strict";var e=n.module("lyTable",["ngSanitize"]),a='<div class="data-table-wrapper"><table class="table data-table {{tableClass}}"ng-class="{\'table-striped\': \'true\' != noStrip}"><thead><tr><th ng-class="column.headCssClass" ng-repeat="column in ::columns"><span ng-class="{\'active\':params.sortBy==column.sortBy,\'sortable\':column.sortable}"ng-click="sort(column)"><span bind-html-compile="columnName(column)"></span></span></th></tr></thead><tbody><tr class="table-row" ng-repeat="item in data track by $index" ng-init="rowIndex = $index"><td ng-class="column.cssClass" ng-repeat="column in ::columns" ng-init="columnIndex = $index"bind-html-compile="displayContent(column.formatter, item[column.field], item, column)"></td></tr></tbody></table></div>';e.directive("lyTable",["$timeout","$sce","$filter",function(t,n,e){return{restrict:"EA",scope:{params:"=",columns:"=",data:"=",tableClass:"@",noStrip:"@",autoEscape:"@",init:"&"},replace:!0,template:a,controller:["$scope",function(t){function n(n){return!1===n.autoEscape||"false"===t.autoEscape}var a=e("linky"),o="asc",i="desc";t.defaultDesc=!0,t.columnName=function(t){return n(t)?t.name:a(t.name)},t.displayContent=function(t,e,o,i){var l="";return"function"==typeof t?l=t.call(o,e,i):l+=t,l=l.toString(),n(i)?l:a(l)},t.addUndefinedSortBy=function(){for(var n in t.columns){var e=t.columns[n];e.sortBy||(e.sortBy=e.field)}},t.sort=function(n){if(n.sortable){var e=n.sortBy?n.sortBy:n.field;if(e){var a=t.params;for(var l in t.columns)if(t.columns.hasOwnProperty(l)){var r=t.columns[l];if(!r.sortable)continue;if(r.sortBy==e||r.field==e){if(a.sortBy==e){a.sortDir=a.sortDir==o?i:o;break}a.sortBy=e,a.sortDir=t.defaultDesc?i:o}}}}}}],link:function(n,e,a){n.addUndefinedSortBy(),n.init&&t(function(){n.init({ele:e.html()})},500)}}}]),e.directive("bindHtmlCompile",["$compile",function(t){return{restrict:"A",link:function(n,e,a){n.$watch(function(){return n.$eval(a.bindHtmlCompile)},function(o){e.html(o&&o.toString());var i=n;a.bindHtmlScope&&(i=n.$eval(a.bindHtmlScope)),t(e.contents())(i)})}}}])}(window,window.angular);