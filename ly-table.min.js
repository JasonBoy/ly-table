/**
 * @license MIT
 * Simple Angular Table Directive without pagination,
 * https://github.com/JasonBoy/ly-table
 */
!function(n,t){"use strict";var e=t.module("lyTable",["ngSanitize"]),o='<div class="ly-table-wrapper"><table class="table {{tableClass}}"><thead><tr><th ng-class="column.headCssClass" ng-repeat="column in ::columns"><span ng-class="{\'active\':column.sortActive,\'sortable\':column.sortable}"ng-click="sort(column)"><span bind-html-compile="columnName(column)"></span></span></th></tr></thead><tbody><tr ng-repeat="item in data track by $index" ng-init="rowIndex = $index"><td ng-class="column.cssClass" ng-repeat="column in ::columns" ng-init="columnIndex = $index"bind-html-compile="displayContent(column.formatter, item[column.field], item, column)"></td></tr></tbody></table></div>';e.directive("lyTable",["$sce","$filter",function(n,t){return{restrict:"EA",scope:{columns:"=",data:"=",tableClass:"@",autoEscape:"@"},replace:!0,template:o,controller:["$scope",function(n){function e(t){return!1===t.autoEscape||"false"===n.autoEscape}var o=t("linky");n.columnName=function(n){return e(n)?n.name:o(n.name)},n.displayContent=function(n,t,l,i){var r="";return"function"==typeof n?r=n.call(l,t,i):r+=n,r=r.toString(),e(i)?r:o(r)},n.normalizeSortField=function(){for(var t in n.columns)if(n.columns.hasOwnProperty(t)){var e=n.columns[t];e.sortBy||(e.sortBy=e.field)}},n.sort=function(t){t.sortable&&(t.sortDir=t.hasOwnProperty("sortDir")?!t.sortDir:1,n.columns.forEach(function(n){n.sortActive=n.sortBy==t.sortBy}),n.$emit("sorting",t))}}],link:function(n,t){n.normalizeSortField(),n.$emit("postLinked",t)}}}]),e.directive("bindHtmlCompile",["$compile",function(n){return{restrict:"A",link:function(t,e,o){t.$watch(function(){return t.$eval(o.bindHtmlCompile)},function(l){e.html(l&&l.toString());var i=t;o.bindHtmlScope&&(i=t.$eval(o.bindHtmlScope)),n(e.contents())(i)})}}}])}(window,window.angular);