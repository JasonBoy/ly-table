/**
 * @license MIT
 * Simple Angular Table Directive without pagination,
 * https://github.com/JasonBoy/ly-table
 */
!function(t,n){"use strict";var e=n.module("lyTable",["ngSanitize"]),o='<div class="ly-table-wrapper"><table class="table data-table {{tableClass}}"><thead><tr><th ng-class="column.headCssClass" ng-repeat="column in ::columns"><span ng-class="{\'active\':column.sortActive,\'sortable\':column.sortable}"ng-click="sort(column)"><span bind-html-compile="columnName(column)"></span></span></th></tr></thead><tbody><tr class="table-row" ng-repeat="item in data track by $index" ng-init="rowIndex = $index"><td ng-class="column.cssClass" ng-repeat="column in ::columns" ng-init="columnIndex = $index"bind-html-compile="displayContent(column.formatter, item[column.field], item, column)"></td></tr></tbody></table></div>';e.directive("lyTable",["$timeout","$sce","$filter",function(t,n,e){return{restrict:"EA",scope:{columns:"=",data:"=",tableClass:"@",autoEscape:"@"},replace:!0,template:o,controller:["$scope",function(t){function n(n){return!1===n.autoEscape||"false"===t.autoEscape}var o=e("linky");t.columnName=function(t){return n(t)?t.name:o(t.name)},t.displayContent=function(t,e,l,i){var a="";return"function"==typeof t?a=t.call(l,e,i):a+=t,a=a.toString(),n(i)?a:o(a)},t.normalizeSortField=function(){for(var n in t.columns)if(t.columns.hasOwnProperty(n)){var e=t.columns[n];e.sortBy||(e.sortBy=e.field)}},t.sort=function(n){n.sortable&&(n.hasOwnProperty("sortDir")?n.sortDir=!n.sortDir:n.sortDir=1,t.columns.forEach(function(t){t.sortActive=t.sortBy==n.sortBy}),t.$emit("sorting",n))}}],link:function(t,n,e){t.normalizeSortField(),t.$emit("postLinked",n)}}}]),e.directive("bindHtmlCompile",["$compile",function(t){return{restrict:"A",link:function(n,e,o){n.$watch(function(){return n.$eval(o.bindHtmlCompile)},function(l){e.html(l&&l.toString());var i=n;o.bindHtmlScope&&(i=n.$eval(o.bindHtmlScope)),t(e.contents())(i)})}}}])}(window,window.angular);