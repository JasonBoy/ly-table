/*!
 * @license MIT
 * Simple Angular Table Directive without pagination,
 * https://github.com/JasonBoy/ly-table
 */
!function(t,n){"use strict";var o=n.module("lyTable",["ngSanitize"]),e='<div class="ly-table-wrapper"><table class="table {{tableClass}}"><thead><tr><th ng-class="column.headCssClass" ng-repeat="column in columns"><span ng-class="{\'active\':column.sortActive,\'sortable\':column.sortable}"ng-click="sort(column)"><span ng-bind-html="columnName(column)"></span></span></th></tr></thead><tbody><tr ng-repeat="item in data track by $index" ng-init="rowIndex = $index"><td ng-class="column.cssClass" ng-repeat="column in columns" ng-init="columnIndex = $index"ng-bind-html="displayContent(column.formatter, item[column.field], item, column)"></td></tr></tbody></table></div>';o.directive("lyTable",["$sce",function(t){return{restrict:"EA",scope:{columns:"=",data:"=",tableClass:"@",autoEscape:"@"},replace:!0,template:e,controller:["$scope",function(o){o.columnName=function(n){return t.trustAsHtml(n.name)},o.displayContent=function(n,o,e,l){var s="";return"function"==typeof n?s=n.call(e,o,l):s+=String(n),t.trustAsHtml(s.toString())},o.normalizeSortField=function(){for(var t in o.columns)if(o.columns.hasOwnProperty(t)){var n=o.columns[t];n.sortBy||(n.sortBy=n.field)}},o.sort=function(t){t.sortable&&(t.sortDir=t.hasOwnProperty("sortDir")?!t.sortDir:1,n.forEach(o.columns,function(n){n.sortActive=n.sortBy==t.sortBy}),o.$emit("sorting",t))}}],link:function(t,n){t.normalizeSortField(),t.$emit("postLinked",n)}}}])}(window,window.angular);