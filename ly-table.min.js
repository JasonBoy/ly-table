/**!
 * @license MIT
 * Simple Angular Table Directive without pagination,
 * https://github.com/JasonBoy/ly-table
 */
!function(t,n){"use strict";var e=n.module("lyTable",["ngSanitize"]),o='<div class="ly-table-wrapper"><table class="table {{tableClass}}"><thead><tr><th ng-class="column.headCssClass" ng-repeat="column in ::columns"><span ng-class="{\'active\':column.sortActive,\'sortable\':column.sortable}"ng-click="sort(column)"><span bind-html-compile="columnName(column)"></span></span></th></tr></thead><tbody><tr ng-repeat="item in data track by $index" ng-init="rowIndex = $index"><td ng-class="column.cssClass" ng-repeat="column in ::columns" ng-init="columnIndex = $index"bind-html-compile="displayContent(column.formatter, item[column.field], item, column)"></td></tr></tbody></table></div>';e.directive("lyTable",["$sce","$filter",function(t,n){return{restrict:"EA",scope:{columns:"=",data:"=",tableClass:"@",autoEscape:"@"},replace:!0,template:o,controller:["$scope",function(t){function e(n){return!1===n.autoEscape||"false"===t.autoEscape}var o=n("linky");t.columnName=function(t){return e(t)?t.name:o(t.name)},t.displayContent=function(t,n,i,l){var r="";return"function"==typeof t?r=t.call(i,n,l):r+=t,r=r.toString(),e(l)?r:o(r)},t.normalizeSortField=function(){for(var n in t.columns)if(t.columns.hasOwnProperty(n)){var e=t.columns[n];e.sortBy||(e.sortBy=e.field)}},t.sort=function(n){n.sortable&&(n.hasOwnProperty("sortDir")?n.sortDir=!n.sortDir:n.sortDir=1,t.columns.forEach(function(t){t.sortActive=t.sortBy==n.sortBy}),t.$emit("sorting",n))}}],link:function(t,n,e){t.normalizeSortField(),t.$emit("postLinked",n)}}}]),e.directive("bindHtmlCompile",["$compile",function(t){return{restrict:"A",link:function(n,e,o){n.$watch(function(){return n.$eval(o.bindHtmlCompile)},function(i){e.html(i&&i.toString());var l=n;o.bindHtmlScope&&(l=n.$eval(o.bindHtmlScope)),t(e.contents())(l)})}}}])}(window,window.angular);